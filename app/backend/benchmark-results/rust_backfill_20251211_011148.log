   Compiling ascii-art-generator-backend v0.1.0 (/home/test01/ascii-art-generator/app/backend/backend-rust)
warning: unused import: `serde::Deserialize`
 --> src/config.rs:1:5
  |
1 | use serde::Deserialize;
  |     ^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `nft::Nft`
  --> src/models/mod.rs:13:9
   |
13 | pub use nft::Nft;
   |         ^^^^^^^^

warning: unused import: `user::User`
  --> src/models/mod.rs:14:9
   |
14 | pub use user::User;
   |         ^^^^^^^^^^

warning: unused import: `user_level::UserLevel`
  --> src/models/mod.rs:15:9
   |
15 | pub use user_level::UserLevel;
   |         ^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `buyback_event::BuybackEvent`
  --> src/models/mod.rs:16:9
   |
16 | pub use buyback_event::BuybackEvent;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `SHARD_CONFIG`, `ShardConfig`, `Shard`, `check_shard_eligibility`, and `check_shard_loss`
  --> src/models/mod.rs:18:46
   |
18 |     calculate_level, calculate_shard_status, check_shard_eligibility, check_shard_loss,
   |                                              ^^^^^^^^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^^^
19 |     Shard, ShardConfig, UserShardStatus, UserStats, SHARD_CONFIG,
   |     ^^^^^  ^^^^^^^^^^^                              ^^^^^^^^^^^^

warning: unused import: `std::io::Read`
  --> src/services/event_parser.rs:12:5
   |
12 | use std::io::Read;
   |     ^^^^^^^^^^^^^

warning: unused import: `warn`
 --> src/services/jupiter_integration.rs:8:29
  |
8 | use tracing::{debug, error, warn};
  |                             ^^^^

warning: unused import: `error`
  --> src/services/solana_indexer.rs:15:22
   |
15 | use tracing::{debug, error, info, warn};
   |                      ^^^^^

warning: unused import: `event_parser::EventParserService`
  --> src/services/mod.rs:15:9
   |
15 | pub use event_parser::EventParserService;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `jupiter_integration::JupiterIntegrationService`
  --> src/services/mod.rs:16:9
   |
16 | pub use jupiter_integration::JupiterIntegrationService;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `nft_storage::NftStorageService`
  --> src/services/mod.rs:17:9
   |
17 | pub use nft_storage::NftStorageService;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `solana_indexer::SolanaIndexerService`
  --> src/services/mod.rs:18:9
   |
18 | pub use solana_indexer::SolanaIndexerService;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: use of deprecated function `base64::decode`: Use Engine::decode
   --> src/services/event_parser.rs:151:34
    |
151 |         let data = match base64::decode(data_part) {
    |                                  ^^^^^^
    |
    = note: `#[warn(deprecated)]` on by default

warning: use of deprecated function `base64::decode`: Use Engine::decode
   --> src/services/event_parser.rs:199:28
    |
199 |         let data = base64::decode(data_part).ok()?;
    |                            ^^^^^^

warning: function `metrics_handler` is never used
   --> src/main.rs:289:10
    |
289 | async fn metrics_handler(app_state: web::Data<AppState>) -> HttpResponse {
    |          ^^^^^^^^^^^^^^^
    |
    = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: struct `DetailedHealthResponse` is never constructed
  --> src/handlers/health.rs:22:12
   |
22 | pub struct DetailedHealthResponse {
   |            ^^^^^^^^^^^^^^^^^^^^^^

warning: struct `HealthComponents` is never constructed
  --> src/handlers/health.rs:32:12
   |
32 | pub struct HealthComponents {
   |            ^^^^^^^^^^^^^^^^

warning: struct `ComponentStatus` is never constructed
  --> src/handlers/health.rs:40:12
   |
40 | pub struct ComponentStatus {
   |            ^^^^^^^^^^^^^^^

warning: function `detailed_health_check` is never used
   --> src/handlers/health.rs:100:14
    |
100 | pub async fn detailed_health_check(app_state: web::Data<AppState>) -> HttpResponse {
    |              ^^^^^^^^^^^^^^^^^^^^^

warning: struct `StatisticsResponse` is never constructed
  --> src/handlers/nft.rs:27:12
   |
27 | pub struct StatisticsResponse {
   |            ^^^^^^^^^^^^^^^^^^

warning: struct `User` is never constructed
 --> src/models/user.rs:7:12
  |
7 | pub struct User {
  |            ^^^^

warning: struct `CreateUser` is never constructed
  --> src/models/user.rs:35:12
   |
35 | pub struct CreateUser {
   |            ^^^^^^^^^^

warning: struct `UpdateUser` is never constructed
  --> src/models/user.rs:46:12
   |
46 | pub struct UpdateUser {
   |            ^^^^^^^^^^

warning: struct `UserResponse` is never constructed
  --> src/models/user.rs:57:12
   |
57 | pub struct UserResponse {
   |            ^^^^^^^^^^^^

warning: associated function `new` is never used
  --> src/models/user.rs:85:12
   |
83 | impl User {
   | --------- associated function in this implementation
84 |     /// Create a new User with minimal information
85 |     pub fn new(wallet_address: String) -> CreateUser {
   |            ^^^

warning: struct `UpdateUserLevel` is never constructed
  --> src/models/user_level.rs:45:12
   |
45 | pub struct UpdateUserLevel {
   |            ^^^^^^^^^^^^^^^

warning: function `get_shard_config` is never used
   --> src/models/level_calculator.rs:317:8
    |
317 | pub fn get_shard_config(shard_id: &str) -> Option<&ShardConfig> {
    |        ^^^^^^^^^^^^^^^^

warning: function `get_all_shard_configs` is never used
   --> src/models/level_calculator.rs:322:8
    |
322 | pub fn get_all_shard_configs() -> &'static Vec<ShardConfig> {
    |        ^^^^^^^^^^^^^^^^^^^^^

warning: function `has_zenith` is never used
   --> src/models/level_calculator.rs:327:8
    |
327 | pub fn has_zenith(status: &UserShardStatus) -> bool {
    |        ^^^^^^^^^^

warning: constant `JUPITER_API_BASE` is never used
  --> src/services/jupiter_integration.rs:14:7
   |
14 | const JUPITER_API_BASE: &str = "https://quote-api.jup.ag/v6";
   |       ^^^^^^^^^^^^^^^^

warning: struct `QuoteResponse` is never constructed
  --> src/services/jupiter_integration.rs:19:12
   |
19 | pub struct QuoteResponse {
   |            ^^^^^^^^^^^^^

warning: struct `RoutePlan` is never constructed
  --> src/services/jupiter_integration.rs:38:12
   |
38 | pub struct RoutePlan {
   |            ^^^^^^^^^

warning: struct `SwapInfo` is never constructed
  --> src/services/jupiter_integration.rs:46:12
   |
46 | pub struct SwapInfo {
   |            ^^^^^^^^

warning: struct `SwapRequest` is never constructed
  --> src/services/jupiter_integration.rs:60:12
   |
60 | pub struct SwapRequest {
   |            ^^^^^^^^^^^

warning: struct `SwapResponse` is never constructed
  --> src/services/jupiter_integration.rs:71:12
   |
71 | pub struct SwapResponse {
   |            ^^^^^^^^^^^^

warning: struct `JupiterIntegrationService` is never constructed
  --> src/services/jupiter_integration.rs:86:12
   |
86 | pub struct JupiterIntegrationService {
   |            ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: associated items `new`, `get_quote`, `get_swap_transaction`, `calculate_minimum_output`, `parse_out_amount`, and `get_quote_with_minimum` are never used
   --> src/services/jupiter_integration.rs:93:12
    |
 91 | impl JupiterIntegrationService {
    | ------------------------------ associated items in this implementation
 92 |     /// Create a new JupiterIntegrationService
 93 |     pub fn new(_config: &AppConfig) -> Self {
    |            ^^^
...
117 |     pub async fn get_quote(
    |                  ^^^^^^^^^
...
172 |     pub async fn get_swap_transaction(
    |                  ^^^^^^^^^^^^^^^^^^^^
...
228 |     pub fn calculate_minimum_output(&self, expected_output: u64, slippage_bps: u32) -> u64 {
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
...
234 |     pub fn parse_out_amount(quote: &QuoteResponse) -> AppResult<u64> {
    |            ^^^^^^^^^^^^^^^^
...
242 |     pub async fn get_quote_with_minimum(
    |                  ^^^^^^^^^^^^^^^^^^^^^^

warning: constant `WSOL` is never used
   --> src/services/jupiter_integration.rs:261:15
    |
261 |     pub const WSOL: &str = "So11111111111111111111111111111111111111112";
    |               ^^^^

warning: constant `SOL` is never used
   --> src/services/jupiter_integration.rs:264:15
    |
264 |     pub const SOL: &str = "So11111111111111111111111111111111111111112";
    |               ^^^

warning: field `config` is never read
  --> src/services/nft_storage.rs:43:5
   |
41 | pub struct NftStorageService {
   |            ----------------- field in this struct
42 |     pool: Pool,
43 |     config: AppConfig,
   |     ^^^^^^

warning: associated constant `CONCURRENT_OWNERSHIP_CHECKS` is never used
  --> src/services/nft_storage.rs:53:11
   |
48 | impl NftStorageService {
   | ---------------------- associated constant in this implementation
...
53 |     const CONCURRENT_OWNERSHIP_CHECKS: usize = 10;
   |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: `ascii-art-generator-backend` (bin "ascii-art-generator-backend") generated 42 warnings (run `cargo fix --bin "ascii-art-generator-backend"` to apply 13 suggestions)
    Finished `release` profile [optimized] target(s) in 1m 17s
     Running `target/release/ascii-art-generator-backend`
[2m2025-12-10T23:13:06.782387Z[0m [32m INFO[0m [2mascii_art_generator_backend[0m[2m:[0m Starting ASCII Art Generator Backend (Rust)
[2m2025-12-10T23:13:06.782432Z[0m [32m INFO[0m [2mascii_art_generator_backend[0m[2m:[0m Network: devnet
[2m2025-12-10T23:13:06.782436Z[0m [32m INFO[0m [2mascii_art_generator_backend[0m[2m:[0m Program ID: DvGwWxoj4k1BQfRoEL18CNYnZ8XYZp1xYHSgBZdvaCKT
[2m2025-12-10T23:13:07.230659Z[0m [32m INFO[0m [2mascii_art_generator_backend[0m[2m:[0m Connected to PostgreSQL database

thread 'main' (2600) panicked at src/main.rs:73:37:
Failed to run migrations: Error { kind: Db, cause: Some(DbError { severity: "ERROR", parsed_severity: Some(Error), code: SqlState(E42703), message: "column \"transaction_signature\" does not exist", detail: None, hint: None, position: None, where_: None, schema: None, table: None, column: None, datatype: None, constraint: None, file: Some("indexcmds.c"), line: Some(1888), routine: Some("ComputeIndexAttrs") }) }
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
